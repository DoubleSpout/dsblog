<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.5.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.5.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.5.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.5.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.5.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Dockerfile是一个镜像的表示，可以通过Dockerfile来描述构建镜像的步骤，并自动构建一个容器 所有的 Dockerfile 命令格式都是: INSTRUCTION arguments 虽然指令忽略大小写，但是建议使用大写。">
<meta name="keywords" content="node.js">
<meta property="og:type" content="article">
<meta property="og:title" content="Dockerfile 常用命令">
<meta property="og:url" content="http://yoursite.com/2014/08/21/js-ajax/index.html">
<meta property="og:site_name" content="snoopyxdy的博客">
<meta property="og:description" content="Dockerfile是一个镜像的表示，可以通过Dockerfile来描述构建镜像的步骤，并自动构建一个容器 所有的 Dockerfile 命令格式都是: INSTRUCTION arguments 虽然指令忽略大小写，但是建议使用大写。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-11-26T03:48:18.847Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dockerfile 常用命令">
<meta name="twitter:description" content="Dockerfile是一个镜像的表示，可以通过Dockerfile来描述构建镜像的步骤，并自动构建一个容器 所有的 Dockerfile 命令格式都是: INSTRUCTION arguments 虽然指令忽略大小写，但是建议使用大写。">






  <link rel="canonical" href="http://yoursite.com/2014/08/21/js-ajax/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Dockerfile 常用命令 | snoopyxdy的博客</title>
  











  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">snoopyxdy的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">不要用执行上的勤奋来掩盖思考上的懒惰</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/08/21/js-ajax/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="snoopyxdy">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="snoopyxdy的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Dockerfile 常用命令
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-08-21 10:08:25" itemprop="dateCreated datePublished" datetime="2014-08-21T10:08:25+08:00">2014-08-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-11-26 11:48:18" itemprop="dateModified" datetime="2018-11-26T11:48:18+08:00">2018-11-26</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/node-js/" itemprop="url" rel="index"><span itemprop="name">node.js</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2014/08/21/js-ajax/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count gitment-comments-count" data-xid="/2014/08/21/js-ajax/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Dockerfile是一个镜像的表示，可以通过Dockerfile来描述构建镜像的步骤，并自动构建一个容器</p>
<p>所有的 Dockerfile 命令格式都是:</p>
<p>INSTRUCTION arguments</p>
<p>虽然指令忽略大小写，但是建议使用大写。</p>
<a id="more"></a>
<p>FROM 命令<br>FROM <image><br>或<br>FROM <image>:<tag><br>这个设置基本的镜像，为后续的命令使用，所以应该作为Dockerfile的第一条指令，比如:<br>FROM ubuntu<br>如果没有指定 tag ，则默认tag是latest，如果都没有则会报错。</tag></image></image></p>
<p>RUN 命令<br>RUN命令会在上面FROM指定的镜像里执行任何命令，然后提交(commit)结果，提交的镜像会在后面继续用到。两种格式:<br>RUN <command> (the command is run in a shell - <code>/bin/sh -c</code>)<br>或:<br>RUN [“executable”, “param1”, “param2” … ]  (exec form)<br>RUN命令等价于:<br>docker run image command<br>docker commit container_id</p>
<p>注释<br>使用 # 作为注释，如:</p>
<h1 id="Memcached"><a href="#Memcached" class="headerlink" title="Memcached"></a>Memcached</h1><p>#</p>
<h1 id="VERSION-1-0"><a href="#VERSION-1-0" class="headerlink" title="VERSION       1.0"></a>VERSION       1.0</h1><h1 id="use-the-ubuntu-base-image-provided-by-dotCloud"><a href="#use-the-ubuntu-base-image-provided-by-dotCloud" class="headerlink" title="use the ubuntu base image provided by dotCloud"></a>use the ubuntu base image provided by dotCloud</h1><p>FROM ubuntu</p>
<h1 id="make-sure-the-package-repository-is-up-to-date"><a href="#make-sure-the-package-repository-is-up-to-date" class="headerlink" title="make sure the package repository is up to date"></a>make sure the package repository is up to date</h1><p>RUN echo “deb <a href="http://archive.ubuntu.com/ubuntu" target="_blank" rel="noopener">http://archive.ubuntu.com/ubuntu</a> precise main universe” &gt; /etc/apt/sources.list<br>RUN apt-get update</p>
<h1 id="install-memcached"><a href="#install-memcached" class="headerlink" title="install memcached"></a>install memcached</h1><p>RUN apt-get install -y memcached</p>
<p>MAINTAINER 命令</p>
<p>MAINTAINER <name><br>MAINTAINER命令用来指定维护者的姓名和联系方式，如:<br>MAINTAINER Guillaume J. Charmes, <a href="mailto:guillaume@dotcloud.com" target="_blank" rel="noopener">guillaume@dotcloud.com</a></name></p>
<p>ENTRYPOINT 命令<br>ENTRYPOINT 命令设置在容器启动时执行命令，有两种语法格式，一种就是上面的(shell方式):<br>ENTRYPOINT cmd param1 param2 …<br>第二种是 exec 格式:<br>ENTRYPOINT [“cmd”, “param1”, “param2”…]<br>如:<br>ENTRYPOINT [“echo”, “Whale you be my container”]<br>又如：<br>root@tankywoo-docker:~# cat Dockerfile<br>FROM ubuntu<br>ENTRYPOINT echo “Welcome!”</p>
<p>root@tankywoo-docker:~# docker run 62fda5e450d5<br>Welcome!</p>
<p>USER 命令<br>比如指定 memcached 的运行用户，可以使用上面的 ENTRYPOINT 来实现:<br>ENTRYPOINT [“memcached”, “-u”, “daemon”]<br>更好的方式是：<br>ENTRYPOINT [“memcached”]<br>USER daemon</p>
<p>EXPOSE 命令<br>EXPOSE 命令可以设置一个端口在运行的镜像中暴露在外<br>EXPOSE <port> [<port>…]<br>比如memcached使用端口 11211，可以把这个端口暴露在外，这样容器外可以看到这个端口并与其通信。<br>EXPOSE 11211<br>一个完整的例子:</port></port></p>
<h1 id="Memcached-1"><a href="#Memcached-1" class="headerlink" title="Memcached"></a>Memcached</h1><p>#</p>
<h1 id="VERSION-2-2"><a href="#VERSION-2-2" class="headerlink" title="VERSION       2.2"></a>VERSION       2.2</h1><h1 id="use-the-ubuntu-base-image-provided-by-dotCloud-1"><a href="#use-the-ubuntu-base-image-provided-by-dotCloud-1" class="headerlink" title="use the ubuntu base image provided by dotCloud"></a>use the ubuntu base image provided by dotCloud</h1><p>FROM ubuntu</p>
<p>MAINTAINER Victor Coisne <a href="mailto:victor.coisne@dotcloud.com" target="_blank" rel="noopener">victor.coisne@dotcloud.com</a></p>
<h1 id="make-sure-the-package-repository-is-up-to-date-1"><a href="#make-sure-the-package-repository-is-up-to-date-1" class="headerlink" title="make sure the package repository is up to date"></a>make sure the package repository is up to date</h1><p>RUN echo “deb <a href="http://archive.ubuntu.com/ubuntu" target="_blank" rel="noopener">http://archive.ubuntu.com/ubuntu</a> precise main universe” &gt; /etc/apt/sources.list<br>RUN apt-get update</p>
<h1 id="install-memcached-1"><a href="#install-memcached-1" class="headerlink" title="install memcached"></a>install memcached</h1><p>RUN apt-get install -y memcached</p>
<h1 id="Launch-memcached-when-launching-the-container"><a href="#Launch-memcached-when-launching-the-container" class="headerlink" title="Launch memcached when launching the container"></a>Launch memcached when launching the container</h1><p>ENTRYPOINT [“memcached”]</p>
<h1 id="run-memcached-as-the-daemon-user"><a href="#run-memcached-as-the-daemon-user" class="headerlink" title="run memcached as the daemon user"></a>run memcached as the daemon user</h1><p>USER daemon</p>
<h1 id="expose-memcached-port"><a href="#expose-memcached-port" class="headerlink" title="expose memcached port"></a>expose memcached port</h1><p>EXPOSE 11211<br>上面是官方例子，国内建议换成163或sohu的源，不然太慢了。<br>root@tankywoo-docker:~# docker build -t tankywoo  - &lt; dck                       [38/480]<br>Uploading context  2.56 kB<br>Uploading context<br>Step 0 : FROM ubuntu<br> —&gt; 99ec81b80c55<br>Step 1 : MAINTAINER Victor Coisne <a href="mailto:victor.coisne@dotcloud.com" target="_blank" rel="noopener">victor.coisne@dotcloud.com</a><br> —&gt; Using cache<br> —&gt; 2b58110877f6<br>Step 2 : RUN echo “deb <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="noopener">http://mirrors.163.com/ubuntu/</a> precise main restricted universe multiverse” &gt; /etc/apt/sources.list<br> —&gt; Running in f55a4a8bb069<br> —&gt; d48c6a965398<br>Step 3 : RUN apt-get update<br> —&gt; Running in da091a1dd6e7<br>Ign <a href="http://mirrors.163.com" target="_blank" rel="noopener">http://mirrors.163.com</a> precise InRelease<br>Get:1 <a href="http://mirrors.163.com" target="_blank" rel="noopener">http://mirrors.163.com</a> precise Release.gpg [198 B]</p>
<p>….</p>
<p>Processing triggers for libc-bin (2.19-0ubuntu6) …<br>Processing triggers for ureadahead (0.100.0-16) …<br> —&gt; 2886671b5b86<br>Step 5 : ENTRYPOINT [“memcached”]<br> —&gt; Running in e8aeeab92cb6<br> —&gt; 7148293a4053<br>Step 6 : USER daemon<br> —&gt; Running in 288766b19606<br> —&gt; 235e7f630ffa<br>Step 7 : EXPOSE 11211<br> —&gt; Running in c6f881b9d51f<br> —&gt; 666c5d65f396<br>Successfully built 666c5d65f396<br>Removing intermediate container f55a4a8bb069<br>Removing intermediate container da091a1dd6e7<br>Removing intermediate container f23631d3d45a<br>Removing intermediate container e8aeeab92cb6<br>Removing intermediate container 288766b19606<br>Removing intermediate container c6f881b9d51f</p>
<p>ENV 命令<br>用于设置环境变量<br>ENV <key> <value><br>设置了后，后续的RUN命令都可以使用<br>使用此dockerfile生成的image新建container，可以通过 docker inspect 看到这个环境变量:<br>root@tankywoo-docker:~# docker inspect 49bfc7a9817f<br>    …<br>    “Env”: [<br>        “name=tanky”,<br>        “HOME=/“,<br>        “PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin”<br>    ],<br>    …<br>里面的name=tanky就是设置的。<br>也可以通过在docker run时设置或修改环境变量:<br>docker run -i -t –env name=”tanky” ubuntu:newtest /bin/bash</value></key></p>
<p>ADD 命令<br>从src复制文件到container的dest路径:<br>ADD <src> <dest></dest></src></p>
<p><src> 是相对被构建的源目录的相对路径，可以是文件或目录的路径，也可以是一个远程的文件url</src></p>
<p><dest> 是container中的绝对路径</dest></p>
<p>VOLUME 命令<br>VOLUME [“<mountpoint>“]<br>如:<br>VOLUME [“/data”]<br>创建一个挂载点用于共享目录<br>具体参考 Docker 4 – 总结</mountpoint></p>
<p>WORKDIR 命令</p>
<p>WORKDIR /path/to/workdir<br>配置RUN, CMD, ENTRYPOINT 命令设置当前工作路径<br>可以设置多次，如果是相对路径，则相对前一个 WORKDIR 命令，比如:<br>WORKDIR /a WORKDIR b WORKDIR c RUN pwd<br>其实是在 /a/b/c 下执行 pwd</p>
<p>CMD 命令<br>有三种格式:<br>CMD [“executable”,”param1”,”param2”] (like an exec, preferred form)<br>CMD [“param1”,”param2”] (as default parameters to ENTRYPOINT)<br>CMD command param1 param2 (as a shell)<br>一个Dockerfile里只能有一个CMD，如果有多个，只有最后一个生效。<br>The main purpose of a CMD is to provide defaults for an executing container. These defaults can include an executable, or they can omit the executable, in which case you must specify an ENTRYPOINT as well.<br>CMD 设定运行镜像时的默认命令，运行docker run 时不提供COMMAND就会执行到。</p>
<p>ONBUILD<br>比如build一个image，简单的说就是每个onbuild命令会在build过程中注册一个事件，在最后依次执行这些onbuild指令，当其中有错误，build会失败。执行成功之后，就会接着下一个image的build<br>ONBUILD ADD . /app/src<br>ONBUILD RUN /usr/local/bin/python-build –dir /app/src<br>注意：<br>1、ONBUILD 不能嵌套，比如 ONBUILD  ONBUILD<br>2、ONBUILD 也不会触发指令 FROM 和 MAINTAINER</p>
<p>总结一下，基本常用的命令是:<br> FROM, MAINTAINER, RUN, ENTRYPOINT, USER, PORT, ADD</p>
<p>最后附上几个官方的 Dockerfile 的例子</p>
<h1 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h1><p>#</p>
<h1 id="VERSION-0-0-1"><a href="#VERSION-0-0-1" class="headerlink" title="VERSION               0.0.1"></a>VERSION               0.0.1</h1><p>FROM      ubuntu<br>MAINTAINER Victor Vieux <a href="mailto:&#118;&#105;&#x63;&#116;&#x6f;&#x72;&#64;&#100;&#x6f;&#x63;&#x6b;&#x65;&#x72;&#x2e;&#x63;&#x6f;&#x6d;" target="_blank" rel="noopener">&#118;&#105;&#x63;&#116;&#x6f;&#x72;&#64;&#100;&#x6f;&#x63;&#x6b;&#x65;&#x72;&#x2e;&#x63;&#x6f;&#x6d;</a></p>
<h1 id="make-sure-the-package-repository-is-up-to-date-2"><a href="#make-sure-the-package-repository-is-up-to-date-2" class="headerlink" title="make sure the package repository is up to date"></a>make sure the package repository is up to date</h1><p>RUN echo “deb <a href="http://archive.ubuntu.com/ubuntu" target="_blank" rel="noopener">http://archive.ubuntu.com/ubuntu</a> precise main universe” &gt; /etc/apt/sources.list<br>RUN apt-get update</p>
<p>RUN apt-get install -y inotify-tools nginx apache2 openssh-server</p>
<h1 id="Firefox-over-VNC"><a href="#Firefox-over-VNC" class="headerlink" title="Firefox over VNC"></a>Firefox over VNC</h1><p>#</p>
<h1 id="VERSION-0-3"><a href="#VERSION-0-3" class="headerlink" title="VERSION               0.3"></a>VERSION               0.3</h1><p>FROM ubuntu</p>
<h1 id="make-sure-the-package-repository-is-up-to-date-3"><a href="#make-sure-the-package-repository-is-up-to-date-3" class="headerlink" title="make sure the package repository is up to date"></a>make sure the package repository is up to date</h1><p>RUN echo “deb <a href="http://archive.ubuntu.com/ubuntu" target="_blank" rel="noopener">http://archive.ubuntu.com/ubuntu</a> precise main universe” &gt; /etc/apt/sources.list<br>RUN apt-get update</p>
<h1 id="Install-vnc-xvfb-in-order-to-create-a-‘fake’-display-and-firefox"><a href="#Install-vnc-xvfb-in-order-to-create-a-‘fake’-display-and-firefox" class="headerlink" title="Install vnc, xvfb in order to create a ‘fake’ display and firefox"></a>Install vnc, xvfb in order to create a ‘fake’ display and firefox</h1><p>RUN apt-get install -y x11vnc xvfb firefox<br>RUN mkdir /.vnc</p>
<h1 id="Setup-a-password"><a href="#Setup-a-password" class="headerlink" title="Setup a password"></a>Setup a password</h1><p>RUN x11vnc -storepasswd 1234 ~/.vnc/passwd</p>
<h1 id="Autostart-firefox-might-not-be-the-best-way-but-it-does-the-trick"><a href="#Autostart-firefox-might-not-be-the-best-way-but-it-does-the-trick" class="headerlink" title="Autostart firefox (might not be the best way, but it does the trick)"></a>Autostart firefox (might not be the best way, but it does the trick)</h1><p>RUN bash -c ‘echo “firefox” &gt;&gt; /.bashrc’</p>
<p>EXPOSE 5900<br>CMD    [“x11vnc”, “-forever”, “-usepw”, “-create”]</p>
<h1 id="Multiple-images-example"><a href="#Multiple-images-example" class="headerlink" title="Multiple images example"></a>Multiple images example</h1><p>#</p>
<h1 id="VERSION-0-1"><a href="#VERSION-0-1" class="headerlink" title="VERSION               0.1"></a>VERSION               0.1</h1><p>FROM ubuntu<br>RUN echo foo &gt; bar</p>
<h1 id="Will-output-something-like-gt-907ad6c2736f"><a href="#Will-output-something-like-gt-907ad6c2736f" class="headerlink" title="Will output something like ===&gt; 907ad6c2736f"></a>Will output something like ===&gt; 907ad6c2736f</h1><p>FROM ubuntu<br>RUN echo moo &gt; oink</p>
<h1 id="Will-output-something-like-gt-695d7793cbe4"><a href="#Will-output-something-like-gt-695d7793cbe4" class="headerlink" title="Will output something like ===&gt; 695d7793cbe4"></a>Will output something like ===&gt; 695d7793cbe4</h1><h1 id="You-ll-now-have-two-images-907ad6c2736f-with-bar-and-695d7793cbe4-with"><a href="#You-ll-now-have-two-images-907ad6c2736f-with-bar-and-695d7793cbe4-with" class="headerlink" title="You?ll now have two images, 907ad6c2736f with /bar, and 695d7793cbe4 with"></a>You?ll now have two images, 907ad6c2736f with /bar, and 695d7793cbe4 with</h1><h1 id="oink"><a href="#oink" class="headerlink" title="/oink."></a>/oink.</h1><p>一些例子：<br>docker-wordpress-nginx A Dockerfile that installs the latest wordpress, nginx and php-fpm.<br>rails-meets-docker<br>参考：<br>Dockerfile tutorial<br>Docker - Reference - Dockerfile</p>
<p>转载地址：<a href="http://blog.tankywoo.com/docker/2014/05/08/docker-2-dockerfile.html" target="_blank" rel="noopener">http://blog.tankywoo.com/docker/2014/05/08/docker-2-dockerfile.html</a></p>

      
    </div>

    

    
    
    

    

    
       
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/node-js/" rel="tag"># node.js</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/08/20/js-ajax/" rel="next" title="使用docker，不要用ssh连接到你的container">
                <i class="fa fa-chevron-left"></i> 使用docker，不要用ssh连接到你的container
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2014/08/21/js-ajax/" rel="prev" title="国外vps修改为北京时间">
                国外vps修改为北京时间 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      
        <div id="gitment-container"></div>
      
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">snoopyxdy</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">284</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">分类</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">22</span>
                    <span class="site-state-item-name">标签</span>
                  
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Memcached"><span class="nav-number">1.</span> <span class="nav-text">Memcached</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VERSION-1-0"><span class="nav-number">2.</span> <span class="nav-text">VERSION       1.0</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#use-the-ubuntu-base-image-provided-by-dotCloud"><span class="nav-number">3.</span> <span class="nav-text">use the ubuntu base image provided by dotCloud</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#make-sure-the-package-repository-is-up-to-date"><span class="nav-number">4.</span> <span class="nav-text">make sure the package repository is up to date</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#install-memcached"><span class="nav-number">5.</span> <span class="nav-text">install memcached</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Memcached-1"><span class="nav-number">6.</span> <span class="nav-text">Memcached</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VERSION-2-2"><span class="nav-number">7.</span> <span class="nav-text">VERSION       2.2</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#use-the-ubuntu-base-image-provided-by-dotCloud-1"><span class="nav-number">8.</span> <span class="nav-text">use the ubuntu base image provided by dotCloud</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#make-sure-the-package-repository-is-up-to-date-1"><span class="nav-number">9.</span> <span class="nav-text">make sure the package repository is up to date</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#install-memcached-1"><span class="nav-number">10.</span> <span class="nav-text">install memcached</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Launch-memcached-when-launching-the-container"><span class="nav-number">11.</span> <span class="nav-text">Launch memcached when launching the container</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#run-memcached-as-the-daemon-user"><span class="nav-number">12.</span> <span class="nav-text">run memcached as the daemon user</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#expose-memcached-port"><span class="nav-number">13.</span> <span class="nav-text">expose memcached port</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Nginx"><span class="nav-number">14.</span> <span class="nav-text">Nginx</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VERSION-0-0-1"><span class="nav-number">15.</span> <span class="nav-text">VERSION               0.0.1</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#make-sure-the-package-repository-is-up-to-date-2"><span class="nav-number">16.</span> <span class="nav-text">make sure the package repository is up to date</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Firefox-over-VNC"><span class="nav-number">17.</span> <span class="nav-text">Firefox over VNC</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VERSION-0-3"><span class="nav-number">18.</span> <span class="nav-text">VERSION               0.3</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#make-sure-the-package-repository-is-up-to-date-3"><span class="nav-number">19.</span> <span class="nav-text">make sure the package repository is up to date</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Install-vnc-xvfb-in-order-to-create-a-‘fake’-display-and-firefox"><span class="nav-number">20.</span> <span class="nav-text">Install vnc, xvfb in order to create a ‘fake’ display and firefox</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Setup-a-password"><span class="nav-number">21.</span> <span class="nav-text">Setup a password</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Autostart-firefox-might-not-be-the-best-way-but-it-does-the-trick"><span class="nav-number">22.</span> <span class="nav-text">Autostart firefox (might not be the best way, but it does the trick)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Multiple-images-example"><span class="nav-number">23.</span> <span class="nav-text">Multiple images example</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VERSION-0-1"><span class="nav-number">24.</span> <span class="nav-text">VERSION               0.1</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Will-output-something-like-gt-907ad6c2736f"><span class="nav-number">25.</span> <span class="nav-text">Will output something like ===&gt; 907ad6c2736f</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Will-output-something-like-gt-695d7793cbe4"><span class="nav-number">26.</span> <span class="nav-text">Will output something like ===&gt; 695d7793cbe4</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#You-ll-now-have-two-images-907ad6c2736f-with-bar-and-695d7793cbe4-with"><span class="nav-number">27.</span> <span class="nav-text">You?ll now have two images, 907ad6c2736f with /bar, and 695d7793cbe4 with</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#oink"><span class="nav-number">28.</span> <span class="nav-text">/oink.</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">snoopyxdy</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v6.5.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.5.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.5.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.5.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.5.0"></script>



  



  






<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="http://wzhfile.static.xytang88.com/gitmint.browser.js?v=2"></script>
    
<!-- END LOCAL -->

    
      <style>
        a.gitment-editor-footer-tip { display: none; }
        .gitment-container.gitment-footer-container { display: none; }
      </style>
    

    
      <script type="text/javascript">
      function renderGitment(){
        var gitment = new Gitmint({
            id: window.location.pathname,
            owner: 'DoubleSpout',
            repo: 'dsblog',
            
            lang: "" || navigator.language || navigator.systemLanguage || navigator.userLanguage,
            
            oauth: {
            
            
                client_secret: '202e5bcda8eacf79e44b6261326de2e79eff846e',
            
                client_id: '7d56dc5e01e83a1a44bb'
            }});
        gitment.render('gitment-container');
      }

      
      renderGitment();
      
      </script>
    






  





  

  

  

  

  

  
  

  

  

  

  

  

  

</body>
</html>
